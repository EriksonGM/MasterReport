@model MasterReport.Models.DataSourceDTO
@{
    ViewData["Title"] = Model.DataSourceId.HasValue ? "Edit DataSource" : "Create DataSource";
    ViewData["Icon"] = "dripicons-stack";
}

<form class="card" asp-action="Edit" asp-controller="DataSources" method="post">
    <div class="card-body">
        <input asp-for="DataSourceId" type="hidden"/>
        <div class="form-group row">
            <label asp-for="Name" class="col-sm-2 col-form-label">Name</label>
            <div class="col-sm-10">
                <input class="form-control" id="name" asp-for="Name">
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label asp-for="DataSourceTypeId" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <select asp-for="DataSourceTypeId" asp-items="ViewBag.DataSourceTypeId" class="form-control"></select>
                <span asp-validation-for="DataSourceTypeId" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label asp-for="ConnectionString" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <textarea asp-for="ConnectionString" rows="5" class="form-control"></textarea>
                <span asp-validation-for="ConnectionString" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <div class="offset-2 col-sm-10">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            </div>
        </div>
    </div>
    <div class="card-footer text-right">
        <button class="btn btn-primary text-right" type="submit" asp-action="Test"><i class="fa fa-database mr-2"></i>Test</button>
        <button class="btn btn-success text-right" type="submit"><i class="fa fa-save mr-2"></i>Save</button>
    </div>
</form>